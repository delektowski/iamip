(this.webpackJsonpiamip=this.webpackJsonpiamip||[]).push([[0],{49:function(e,t,n){e.exports=n(61)},54:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),s=(n(54),n(40)),i=n(41),u=n(43),m=n(45),l=n(33),p=n(80),d=n(13),f=n(16),b=n(84),E=n(83),O=n(85),g=n(82),v=Object(p.a)({postContainer:{background:"whitesmoke",minHeight:"12rem",width:"20rem",padding:"2rem",margin:"2rem 0",display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"},buttonComments:{marginTop:"1rem"}}),y=function(e){var t=e.getComments,n=e.postComments,a=e.setIsShowComments,o=e.isShowComments,c=v(),s=function(e){n||t(),a(e)};return r.a.createElement(r.a.Fragment,null,o&&n?r.a.createElement(g.a,{className:c.buttonComments,variant:"contained",color:"secondary",onClick:function(){return s(!1)}},r.a.createElement(E.a,{variant:"button"},"ukryj komentarze")):r.a.createElement(g.a,{className:c.buttonComments,variant:"contained",color:"primary",onClick:function(){return s(!0)}},r.a.createElement(E.a,{variant:"button"},"poka\u017c komentarze")))},C=function(e,t){var n=t[0].postId;return e.map((function(e){return e.id===n&&(e.comments=t),e}))},j=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))},S=Object(d.b)((function(e){return{posts:e.posts}}),(function(e){return{onAddComment:function(t){return e(function(e){return{type:"ON_ADD_POST_COMMENT",payload:e}}(t))}}}))((function(e){var t=e.posts,n=e.postId,o=e.onAddComment,c=e.postComments,s=Object(a.useState)(""),i=Object(f.a)(s,2),u=i[0],m=i[1],p=Object(a.useState)(""),d=Object(f.a)(p,2),b=d[0],O=d[1],g=Object(a.useState)(""),v=Object(f.a)(g,2),y=v[0],C=v[1],j=Object(a.useState)(!1),S=Object(f.a)(j,2),h=S[0],_=S[1],w=function(e){var t=e.target;"name"===t.name&&m(t.value),"email"===t.name&&O(t.value),"body"===t.name&&C(t.value)},T=function(e){o(function(e,t,n){return e.map((function(e){return e.id===t&&(e.comments=[].concat(Object(l.a)(e.comments),[n])),e}))}(t,n,e))},x=Object(a.useCallback)((function(){var e=/user/;return c.filter((function(t){return e.test(t.id)})).length>0}),[c]);return Object(a.useEffect)((function(){_(x())}),[c,x]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target;T(function(e){return{postId:n,id:"".concat((new Date).getTime(),"user"),name:e.name.value,email:e.email.value,body:e.body.value}}(t)),m(""),O(""),C("")}},r.a.createElement("label",null,"name:",r.a.createElement("input",{disabled:h,name:"name",type:"text",value:u,onChange:w,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"email:",r.a.createElement("input",{disabled:h,name:"email",type:"email",value:b,onChange:w})),r.a.createElement("br",null),r.a.createElement("label",null,"body:",r.a.createElement("textarea",{disabled:h,name:"body",value:y,onChange:w,required:!0})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit"),h&&r.a.createElement(E.a,{variant:"overline",component:"p",color:"secondary"},"You can add only 1 comment.")))})),h=Object(p.a)({commentsContainer:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"column"},commentContainer:{boxSizing:"border-box",width:"100%",boxShadow:"2px 2px 12px rgba(128, 128, 128, 0.37) inset",borderRadius:"6px",padding:".6rem",margin:"1rem auto"}}),_=Object(d.b)((function(e){return{posts:e.posts}}),(function(e){return{onGetComments:function(t){return e(function(e){return{type:"ON_REQUEST_POST_COMMENTS",payload:e}}(t))}}}))((function(e){var t=e.postComments,n=e.postId,o=e.onGetComments,c=e.setIsProgressSpinner,s=h(),i=Object(a.useState)(!1),u=Object(f.a)(i,2),m=u[0],l=u[1],p=function(){return t&&m};return r.a.createElement("div",{className:s.commentsContainer},r.a.createElement(y,{postComments:t,getComments:function(){c(!0),o(n)},setIsShowComments:l,isShowComments:m}),p()&&t.map((function(e){return r.a.createElement("section",{key:e.id,className:s.commentContainer},r.a.createElement("p",null,"NAME: ",e.name),r.a.createElement("p",null,"EMAIL: ",e.email),r.a.createElement(E.a,{variant:"body2",component:"p"},"COMMENT: ",e.body))})),p()&&r.a.createElement(S,{postId:n,postComments:t}))})),w=Object(p.a)({postContainer:{background:"whitesmoke",minHeight:"20rem",width:"20rem",padding:"2rem",margin:"2rem 0",display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"},progressSpinnerContainer:{display:"flex",justifyContent:"center",paddingTop:"1rem"},buttonComments:{marginTop:"1rem"}}),T=Object(d.b)((function(e){return{posts:e.posts}}),null)((function(e){var t=e.postId,n=e.postTitle,o=e.postBody,c=e.postComments,s=w(),i=Object(a.useState)(!1),u=Object(f.a)(i,2),m=u[0],l=u[1];return Object(a.useEffect)((function(){c&&l(!1)}),[c]),r.a.createElement("section",{key:t},r.a.createElement(b.a,{elevation:1,className:s.postContainer},r.a.createElement(E.a,{variant:"overline",component:"p"},r.a.createElement("strong",null,t)),r.a.createElement(E.a,{variant:"overline",component:"h2"},r.a.createElement("strong",null,"title:")," ",n),r.a.createElement(E.a,{variant:"body2",component:"p"},r.a.createElement(E.a,{variant:"overline"},r.a.createElement("strong",null,"Body:"))," ",o),r.a.createElement(_,{postComments:c,postId:t,setIsProgressSpinner:l}),r.a.createElement("div",{className:s.progressSpinnerContainer},m&&r.a.createElement(O.a,null))))})),x=n(86),N=Object(d.b)((function(e){return{page:e.page,pagesAmount:e.pagesAmount}}),(function(e){return{onSetPage:function(t){return e(function(e){return{type:"ON_SET_PAGE",payload:e}}(t))}}}))((function(e){var t=e.onSetPage,n=e.pagesAmount;return r.a.createElement("div",null,r.a.createElement(x.a,{count:n,color:"primary",onChange:function(e,n){return t(n)}}))})),k=Object(p.a)({postsContainer:{margin:"4rem auto",width:"98vw",background:"white",display:"flex",flexDirection:"columns",flexWrap:"wrap",justifyContent:"space-around"},paginationContainer:{position:"fixed",top:"0",display:"flex",justifyContent:"center",background:"white",width:"100%",margin:"0 auto",padding:"1rem 0",zIndex:100}}),A=Object(d.b)((function(e){return{posts:e.posts,pagesAmount:e.pagesAmount,page:e.page}}),(function(e){return{onGetPosts:function(){return e({type:"ON_REQUEST_POSTS"})},onSetPagesAmount:function(t){return e(function(e){return{type:"ON_SET_PAGES_AMOUNT",payload:e}}(t))}}}))((function(e){var t=e.posts,n=e.onGetPosts,o=e.onSetPagesAmount,c=e.pagesAmount,s=e.page,i=k();Object(a.useEffect)((function(){n()}),[n]),Object(a.useEffect)((function(){o(function(e){return Math.ceil(e.length/10)}(t))}),[t,o]);var u=function(){return t.reduce((function(e,t){return function(e,t,n){var a=parseInt(e),r=t*n;return a<=r&&a>r-n}(t.id,s,c)?[].concat(Object(l.a)(e),[t]):e}),[])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:i.paginationContainer},r.a.createElement(N,{pagesAmount:c})),r.a.createElement("main",{className:i.postsContainer},u().map((function(e){return r.a.createElement(T,{key:e.id,postId:e.id,postTitle:e.title,postBody:e.body,postComments:e.comments})}))))})),P=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(19),I=n(21),D={posts:[],pagesAmount:0,page:1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_FETCH_POSTS":case"ON_FETCH_POST_COMMENTS":case"ON_ADD_POST_COMMENT":return Object(I.a)({},e,{posts:t.payload});case"ON_SET_PAGES_AMOUNT":return Object(I.a)({},e,{pagesAmount:t.payload});case"ON_SET_PAGE":return Object(I.a)({},e,{page:t.payload});default:return e}},F=n(44),U=n(15),H=n.n(U),R=n(17),B=H.a.mark(z);function z(){var e;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://jsonplaceholder.typicode.com/posts",t.next=3,j("https://jsonplaceholder.typicode.com/posts");case 3:return e=t.sent,t.next=6,Object(R.b)({type:"ON_FETCH_POSTS",payload:e});case 6:case"end":return t.stop()}}),B)}var Q=function(e){return e.posts},W=H.a.mark(q);function q(e){var t,n,a,r;return H.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(R.c)(Q);case 3:return n=o.sent,a="https://jsonplaceholder.typicode.com/comments?postId=".concat(t),o.next=7,j(a);case 7:return r=o.sent,o.next=10,Object(R.b)({type:"ON_FETCH_POST_COMMENTS",payload:C(n,r)});case 10:case"end":return o.stop()}}),W)}var J=H.a.mark(X),L=H.a.mark(V);function X(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)("ON_REQUEST_POSTS",z);case 2:return e.next=4,Object(R.d)("ON_REQUEST_POST_COMMENTS",q);case 4:case"end":return e.stop()}}),J)}function V(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([X()]);case 2:case"end":return e.stop()}}),L)}var Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.c,$=Object(F.a)(),K=Object(M.d)(G,Y(Object(M.a)($)));$.run(V),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:K},r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.4e7ba8a2.chunk.js.map